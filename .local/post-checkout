#!/usr/bin/env bash

# Set the source and destination directories
src_dir="$HOME/repos/DotRoboT/.setup/git-branches/post-checkout"
dst_dir="$HOME/repos/DotRoboT/.git/hooks"

# Check if the source file exists
if [ -f "$src_dir/post-checkout" ]; then
  # Copy the post-checkout file to the hooks directory
  cp "$src_dir/post-checkout" "$dst_dir/"
  echo "post-checkout hook copied successfully."
else
  echo "Error: post-checkout file not found in $src_dir."
  exit 1
fi

# Check if the post-checkout hook is executable
if [ -x "$dst_dir/post-checkout" ]; then
  echo "post-checkout hook is already executable."
else
  # Make the post-checkout hook executable
  chmod +x "$dst_dir/post-checkout"
  echo "post-checkout hook made executable."
fi

echo "post-checkout hook is ready now."
