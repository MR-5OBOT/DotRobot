#!/bin/bash

# Set the directory where your trading journal PDFs are located
TRADE_JOURNAL_DIR="$HOME/repos/Dev-Lab/latex-projects/trading-journal"

# Set the custom word to append to the filename
read -p "Enter the custom word to append before .pdf: " custom_word

# Get the current date
current_date=$(date +"%Y-%m-%d")

# Check if there are any PDF files in the trade journal directory
if [ "$(find "$TRADE_JOURNAL_DIR" -maxdepth 1 -type f -name "*.pdf" | wc -l)" -eq 0 ]; then
    echo "No PDF files found in the trade journal directory."
    exit 0
fi

# Loop through all the PDF files in the trade journal directory
for file in "$TRADE_JOURNAL_DIR"/*.pdf; do
    # Construct the new filename with the current date and custom word
    new_filename="${current_date}_${custom_word}.pdf"
    new_path="$TRADE_JOURNAL_DIR/$new_filename"

    # Rename the file
    mv "$file" "$new_path"
    echo "Renamed $file to $new_filename"
done

# List directories in "Trading journal" directory
TRADING_JOURNAL_DIR="$HOME/repos/trading-journal/"
trading_dirs=("$TRADING_JOURNAL_DIR"/*)

# Prompt user to choose a directory to move the file
echo "Select a directory to move the file:"
for i in "${!trading_dirs[@]}"; do
    echo "$((i+1)). ${trading_dirs[$i]##*/}"
done

read -p "Enter the number of the directory to move the file: " selected_dir_index
selected_dir="${trading_dirs[$((selected_dir_index-1))]}"

# Move the renamed file to the selected directory
mv "$new_path" "$selected_dir"
echo "Moved $new_filename to ${selected_dir##*/}"
