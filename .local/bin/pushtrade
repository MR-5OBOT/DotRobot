#!/usr/bin/env bash

# The name of the rclone remote for Google Drive
REMOTE_NAME="gdrive"

export RCLONE_CONFIG_PASS=ys

# The directory in Google Drive where you want to store the PDFs
GDRIVE_DIR="Digital-life/trading-journal/"

# The local LaTeX working directory containing the PDFs
LOCAL_DIR="$HOME/repos/trading-journal/"

# Copy any new or modified files from the local directory to Google Drive, excluding .git directories
rclone sync "$LOCAL_DIR" "$REMOTE_NAME:/$GDRIVE_DIR" --exclude ".git/**"

# Check if the synchronization completed successfully
if [[ $? -eq 0 ]]; then
    echo "Files sync completed successfully"
else
    echo "Script failed"
fi
